#+TITLE: Elements of Classical Algebraic Geometry
#+AUTHOR: Anand Patel
#+SETUPFILE: latexpreamble.org
#+OPTIONS: toc:nil
#+BEGIN_SRC latex-macros
  \newcommand{\A}{\mathbb{A}}
  \renewcommand{\P}{\mathbb{P}}
  \renewcommand{\O}{\mathscr{O}}
  \renewcommand{\Z}{\mathbb{Z}}
  \newcommand{\I}{\mathscr{I}}
  \newcommand{\q}{\mathsf{q}}
  \newcommand{\Gr}{\textrm{Gr}}
  \newcommand{\G}{\mathbb{G}}
  \newcommand{\R}{\mathbb{R}}
  \renewcommand{\k}{\mathscr{k}}
  \newcommand{\fm}{\mathscr{m}}
  \newcommand{\fp}{\mathscr{p}}
  \renewcommand{\to}{\longrightarrow}
  \DeclareMathOperator{\Hom}{\mathsf{Hom}}
  \DeclareMathOperator{\sing}{\mathsf{Sing}}
  \DeclareMathOperator{\Sym}{\mathsf{Sym}}
  \DeclareMathOperator{\V}{\mathscr{V}}
  \DeclareMathOperator{\E}{\mathscr{E}}
  \DeclareMathOperator{\cubics}{\mathsf{cubics}}
#+END_SRC

* Affine sets, the Zariski topology, and Hilbert's Nullstellensatz


Affine varieties are the fundamental building blocks of /quasi-projective varieties/, the central objects of study in classical algebraic geometry.  In essence, an affine variety is the  solution set of a system of polynomial equations $$f_1(x_1, \dots, x_n) = f_2(x_1, \dots, x_n) = \dots =f_{m}(x_1, \dots, x_n) = 0$$ with coefficients in some field $\k$. This solution set is made into a geometric object after we introduce  the /Zariski topology/ on it.  Furthermore, two such solutions sets are allowed to communicate with each other only through a restricted class of functions, called /regular maps/.  Setting things up this way allows us to define what it means for two solution sets to be isomorphic, even though they may arise in totally different contexts.  (Much like in group theory, the notion of homomorphism and isomorphism allows us to extract an abstract group from its  various guises.)  An affine variety $X$ is then basically an equivalence class of solution sets under the notion of regular isomorphism.  It turns out that $X$ is uniquely recoverable from the ring of /regular functions/ on it.  This ring is called its  /coordinate ring/, denoted $\k[X]$.  The basic philosophy in affine algebraic geometry is then to translate "geometric notions" about $X$ into ring-theoretic notions about $\k[X]$, thereby supporting our geometric intuitions with rigorous algebra.

The relationship between the originating system of equations and its solution set is cleanest and makes most intuitive sense when the /ground field/ $\k$ is algebraically closed, and the main theorem(s) describing this relationship is Hilbert's Nullstellensatz in its various incarnations. This theorem is the most important piece of commutative algebra allowing us to set up the theory of affine varieties.  Because algebraic geometry is easiest to understand when $\k$ is algebraically closed, we will assume this throughout.  (Later, we will see that the characteristic $0$ situation is especially nice, but for now algebraic closed-ness is all we assume.)

** Affine sets

We begin by defining the central geometric objects of this chapter.

#+begin_definition
1)   */Affine space of dimension $n$ (over $\k$)/*, denoted \[\A^{n}_{\k}\] is the set of $n$ -tuples $p = (p_1, \dots, p_{n})$, $p_{i} \in \k$.
2)   For each $i$, we denote by \[x_{i}: \A^{n}_{\k} \to \A^{1}_{\k}\] the \(i\)-th coordinate function sending $(p_{1}, \dots, p_{n})$ to $p_i$.
3)   If $S \subset \k[x_{1} \dots, x_n]$ is a subset of polynomials, we define the */vanishing set of $S$/* to be
    \[\V(S) = \big\{p \in \A^n_{\k} \mid f(p)=0 \, \textrm{for all}\, f \in S \big\}.\]
4) A subset $U \subset \A^{n}_{\k}$ is a */Zariski open set/* if its complement is $\V(S)$ for some $S \subset \k[x_1, \dots, x_n]$.
5) Conversely, any subset $Z \subset \A^n_{\k}$ of the form $\V(S)$ is called a */Zariski closed/* (or, simply */closed/*) subset. A Zariski closed subset of affine space also called an */affine (or algebraic) set/*.
6) More generally, if $Z \subset \A^n_{\k}$ is an algebraic set, then a subset $U \subset Z$ is  a */Zariski open  subset of $Z$/* if $U$ is the intersection of $Z$ with a Zariski open subset of $\A^n_{\k}$.
7) A Zariski open subset of an algebraic set is called a */quasi-affine set/*. 
#+end_definition

It is immediate that if $S \subset \k[x_1, \dots, x_n]$ is any subset, and if $I$ is the ideal generated by $S$, then $\V(S) = \V(I)$.  So, our focus quickly moves to ideals in $\k[x_1, \dots, x_n]$.  The following exercise justifies the use of the words "closed/open."  


#+begin_exercise
Suppose $I,J \subset \k[x_1, \dots, x_n]$ are two ideals. Show:
1)  \(\V(I \cdot J) = \V(I) \cup \V(J)\), and
2)  \(\V(I+J) = \V(I) \cap \V(J).\)
3)  Prove that two distinct ideals $I$ and $J$ can satisfy $\V(I) = \V(J)$, and moreover, there exists an example where neither $I \subset J$ nor $J \subset I$.
4)  Prove that the Zariski open subsets of $\A^{n}_{\k}$ satisfy the axioms of a topology. This topology is called the */Zariski topology on $\A^n_{\k}$./*
5)   Prove that the Zariski closed, proper subsets of $\A^{1}_{\k}$ are precisely the finite subsets.
6)   Prove that every finite subset of $\A^{n}_{\k}$ is closed, but that the converse is false when $n \geq 2$.
7)  If $Z \subset \A^n_{\k}$ is an affine set, prove that the subsets of $Z$ which are closed in $\A^n_{\k}$ satisfy the axioms satisfied by closed sets in a topology. This is called the */Zariski topology on $Z$./*
#+end_exercise

In light of this exercise, in order to create an algebraic set, we need only consider $\V(I)$'s for /ideals/ $I \subset \k[x_1, \dots,
x_n]$.    Whenever we say "open" or "closed", we refer to the Zariski topology. 


The beauty in classical algebraic geometry is only seen through its countless, interesting examples.   Certain examples are more educational than others and have special names.  Here are a few to start:



#+begin_eg
 1) The /parabola/ \[\V(y-x^{2}) \subset \A^{2}_{\k}.\] 
 2) The /quadric cone/ \[\V(xy-z^2) \subset \A^3_{\k}.\]
 3) An  /affine quadric surface/ \[\V(xy-z) \subset \A^{3}_{\k}.\]

   [[./images/Affine quadric surface.png]]
    
 4) The /nodal cubic/ \[\V(y^2 - x^{2}-x^{3}) \subset \A^2_{\k}.\]
    
 5) The /cuspidal cubic/ \[\V(y^2-x^3) \subset \A^2_{\k}.\]
 6) A particular  /elliptic curve/ \[\V(y^2-x^3+x) \subset \A^2_{\k}.\]
 7) The /affine twisted cubic/ \[\V(x^2-y,x^3-z) = \V(x^2-y, xy-z) \subset \A^3_{\k}.\]
 8) The /Whitney umbrella/ \[\V(x^2+zy^2) \subset \A^{3}_{\k}.\]
    
[[./images/whitney2.png]]

 9) A /line and a plane/  \[\V(xz,yz) \subset \A^3_{\k}.\]
#+end_eg

*** Pictures

In the list of examples above, what do those pictures mean?  Clearly they are real images, meaning they exist in $\A^2_{\R}$ or $\A^{3}_{\R}$. But this is not our true context: we've assumed $\k$ is algebraically closed!  Unfortunately, it is not possible to draw a true representation in this case, so we refer to these sorts of images as "real cartoons."   

*** Operations $\V$ and $\I$

The operation $\V$ is a surjective  function: \[\V(-): \big\{\,\textrm{ideals in} \,\,  \k[x_1, \dots, x_n] \big\} \to \big\{\,\textrm{affine subsets of} \,\,  \A^{n}_{\k} \big\}.\]

But we can also go backwards, from sets to ideals:

#+begin_definition
Let $Z \subset \A^n_{\k}$ be any subset.  We define the */ideal of $Z$/* to be \[\I(Z) = \big\{ f \in \k[x_1,\dots,x_n] \mid f(z)=0\,\, \textrm{for all}\,\,z \in Z \big\}.\]
#+end_definition

And so, $\I$ defines a function:
 \[\I(-): \big\{\,\textrm{affine subsets of} \,\,  \A^{n}_{\k} \big\} \to \big\{\,\textrm{ideals in}  \subset \k[x_1, \dots, x_n] \big\}.\]

#+begin_eg
Let $p = (p_1, \dots, p_n) \in \A^n_{\k}$ be any point. Then $\I(\{p\}) = (x_1-p_1, \dots, x_n-p_n)$. Notice that $\I(\{p\}) \subset \k[x_1,\dots, x_n]$ is a /maximal ideal/.  So, we typically use the symbol $\fm_p$ for this ideal.
#+end_eg


$\I(-)$ satisfies some obvious properties, for example if $Z_1 \subset Z_2$ is a proper containment of affine subsets, then we get a strict, opposite containment of ideals $\I(Z_2) \supset \I(Z_1)$. 


Since $\V$ and $\I$ point in opposite directions, it's natural to wonder that their compositions (both ways) are.  One composition, found in the next exercise, is easy to understand.  The other composition leads naturally to  Hilbert's Nullstellansatz, and so we postpone it.

#+begin_exercise
1)  Prove: For any subset $Z \subset \A^{n}_{\k}$, we have $Z \subset \V(\I(Z))$.
2)  Prove:  $Z \subset \A^n_{\k}$ is Zariski-closed if and only if $Z = \V(\I(Z))$.
3)  In fact, prove: For any $Z \subset \A^n_{\k}$, $\V(\I(Z))$ is the closure of $Z$ under the Zariski topology on $\A^n_{\k}$.
4) Prove: If $Z_1$ and $Z_2$ are affine sets, then $\I(Z_1 \cup Z_2) = \I(Z_1) \cap \I(Z_2)$.  (Careful: Is $\I(Z_1 \cap Z_2) = \I(Z_1) + \I(Z_2)$?)
5) Disprove: If $Z_1, Z_2$ are two affine sets, then $\I(Z_1) \cup \I(Z_2) = \I(Z_1) \cdot \I(Z_2)$. 
#+end_exercise

*** Prime ideals and irreducible affine sets

Affine sets have their "main, big  pieces," called /irreducible components/.   For instance, in the irreducible components of the  /line and plane/ $\V(xz,yz) \subset \A^{3}_{\k}$ are the line $\V(x,y)$ and the plane $\V(z)$. To make this concept precise, we borrow the  notion of /reducibility/ from topology, which we elaborate on here.  

#+begin_definition
An affine set $Z$ is */reducible/* if it is the union of two non-empty, proper closed subsets. Otherwise, $Z$ is said to be */irreducible/*.  More generally, a topological space $X$ is */reducible/* if it is the union of two non-empty, proper closed subsets, and is */irreducible/* otherwise.

If $X$ is any topological space, then a subset $Y \subset X$ is called an */irreducible component/* of $X$ if $Y$ is maximal among closed, irreducible subsets of $X$. 
#+end_definition

#+begin_exercise
1) Prove: Any two non-empty open subsets of an irreducible topological space must intersect.
2) Prove: If $U \subset X$ is a non-empty open set in an irreducible topological space $X$, then $X$ is the closure of $U$, i.e. $U$ is dense in $X$.
3) Suppose $X$ is a topological space, and $A,B \subset X$ are proper closed subsets satisfying $X = A \cup B$.  Prove: If $A$ is also irreducible, then $A$ is in fact an irreducible component of $X$.
#+end_exercise

Our next proposition says that for affine sets, irreducibility has a
really nice algebraic interpretation.

#+begin_proposition
An affine set $Z \subset \A^{n}_{\k}$ is irreducible if and only if $\I(Z) \subset \k[x_1, \dots, x_n]$ is a prime ideal.
#+end_proposition

#+begin_proof
First assume $Z$ is an irreducible affine set, and $f,g \in \k[x_1, \dots, x_n]$ satisfy $fg \in \I(Z)$, and $f \notin \I(Z)$. Then, \(fg \in \I(Z)\) implies \(Z = (\V(f) \cap Z) \cup (\V(g) \cap Z).\) And \(f \notin \I(Z)\) implies \(\V(f) \cap Z \neq Z.\) Thus, by irreducibility we deduce $\V(g) \cap Z = Z$, i.e. $g \in \I(Z)$. So $\I(Z)$ is prime.

Next assume $Z = A \cup B$ with \(A, B\) both proper closed subsets of $Z$. In particular, $A$ is not contained in $B$ and vice versa. Therefore, there exists a polynomial $f$ vanishing on $A$ but not entirely on $B$ and a polynomial $g$ vanishing on $B$ but not entirely on $A$. Then $fg \in \I(Z)$, yet neither $f$ nor $g$ is in $\I(Z)$.  So $\I(Z)$ is not prime. 
#+end_proof

** Algebra reminders

Before seeing some of the more interesting algebra lying at the foundations of our subject, let's make sure certain algebraic concepts are solidified.  Throughout this section, suppose $R$ is an arbitrary ring.  "Ring" here means commutative ring with $1$.

#+begin_exercise
1) An ideal $I \subset R$ is maximal (resp. prime) if and only if $R/I$ is a field, (resp. integral domain).
2) Dictionary: The assignment $\overline{J} \mapsto q^{-1}(\overline{J})$ sets up a bijection between the set of ideals of $R/I$ and the set of ideals in $R$ containing $I$, where \(q: R \to R/I\) is the quotient map.
3) Does the Dictionary respect "primeness" and/or "maximality" of ideals?
4) True or false: If $\varphi: A \to B$ is a ring homomorphism then the preimage of any prime ideal is again prime.
5) True or false: If $\varphi: A \to B$ is a ring homomorphism, then the image of any ideal is again an ideal.
6) True or false: If $\varphi: A \to B$ is a ring homomorphism, then the preimage of any maximal ideal is again maximal.
#+end_exercise

Now suppose $Z \subset \A^{n}_{\k}$ is an affine set, with ideal $\I(Z)$.

#+begin_exercise
1) $p \in \A^{n}_{\k}$ lies in $Z$ if and only if $\I(Z) \subset \fm_{p}$.
2) A point of $Z$ is the same thing as a \(\k\)-algebra homomorphism $\kappa: \k[x_1, \dots, x_n]/\I(Z) \to \k$.
#+end_exercise

*** Ring-value points
Suppose $R$ is a \(\k\)-algebra.  We will sometimes use the concept of a \(R\)-point of an affine set (or more generally, algebraic variety) $Z$.  The definition is as follows:

#+begin_definition
Let $R$ be a \(\k\)-algebra, and suppose $Z \subset \A^{n}_{\k}$ is an affine set. An /*\(R\)-point of \(Z\)*/ is a \(\k\)-algebra homomorphism $\k[x_1, \dots, x_{n}]/\I(Z) \to R$. 
#+end_definition

#+begin_exercise
Why \(R\)-points are called \(R\)-points: Prove that the \(R\)-points of $Z$ are in natural bijection with the set of tuples \((r_1, \dots, r_n) \in R^{n}\) satisfying $f(r_1, \dots, r_n) = 0$ for all $f \in \I(Z)$.
#+end_exercise

#+begin_exercise
One way to characterize integral domains: Prove that a ring $R$ is an integral domain if and only if there exists an injective homomorphism from \(R\) to a field.
#+end_exercise

** Important Algebra: The Nullstellensatz

Our first fundamental  theorem, which appears in several different forms in several different levels of generality, explains the relationship between the operations $\V(-)$ and $\I(-)$.  The exact message of Hilbert's Nullstellensatz can be confusing for newcomers, so I'll try to give many different viewpoints here.  The theorem will also play an important role in laying the foundation for the concept of regular functions.


Here are two popular ways of thinking about the Nullstellensatz: 
1) When $\k$ is algebraically closed, the Nullstellensatz says that the only way for $\V(I)$ to be empty is if $I = (1)$, the unit ideal. In other words, any system of polynomial equations which is not equivalent to $1=0$ */must have/* solutions in $\A^n_{\k}$.
2) When $\k$ is algebraically closed, the Nullstellensatz provides the precise list of /maximal ideals in/ $\k[x_1, \dots, x_n]$: it says that every maximal ideal is of the form $\fm_{p}$ for some point $p \in \A^{\k}$.  

#+begin_theorem
Let $\k$ be an arbitrary field.

1) If $L$ is a finitely generated \(\k\)-algebra which is also a field, then $L$ is a finite field extension of $\k$.

2) A polynomial system of equations \(\big\{f_1=0, f_2=0, \dots, f_m =0 \big\}\) with $f_i \in \k[x_1, \dots, x_n]$ has a solution in */some/* \(\k\)-algebra if and only if it has a solution $(\alpha_1, \dots, \alpha_n)$ where each $\alpha_i$ is algebraic over $\k$. 

3) If \(\k\) is algebraically closed, then every maximal ideal of \(\,\,\k[x_1, \dots, x_n]\) is of the form $(x_1-p_1, \dots, x_n-p_n)$ for some $p_i \in \k$.

4) If \(\k\) is algebraically closed, and if $I \subset \k[x_1, \dots, x_n]$ satisfies $\V(I) = \emptyset$, then $I = (1)$, the unit ideal.
5) If \(\k\) is algebraically closed, and if $\fp \subset \k[x_1, \dots, x_n]$ is a prime ideal, then $\I(\V(\fp)) = \fp$.
#+end_theorem


#+begin_exercise
Let \(\k[x]\) denote the polynomial ring in one variable, and suppose \(f_1, \dots, f_m \in \k[x]\) are finitely many polynomials.  Prove that the ring \(\k[x, \frac{1}{f_1}, \dots, \frac{1}{f_m}]\) is never a field. 
#+end_exercise


* Regular functions and regular mappings

Next, we must fix the mechanism by which algebraic sets and quasi-affine sets  communicate with each other.  This will also allow us to talk about a quasi-affine set without reference to an ambient $\A^{n}_{\k}$.   In short, we allow ourselves only  to use functions which are locally describable using ratios of polynomial functions.  These functions are called /regular functions/. 

#+begin_definition
Let $U \subset \A^{n}_{\k}$ be a quasi-affine set.
1) Let $z \in U$ be a point. A function $f: U \to \A^1_{\k}$ is */regular/* at $z$ if: there exists an open set $V \subset U$ containing $z$ and an element $p/q \in \k(x_1, \dots, x_n)$ defined on $V$ such that $f|_{V}$ agrees with $p/q$ on $V$. We say $f: U \to \A^{1}_{\k}$ is regular if it is regular at every point $z \in U$.  The set of regular functions $U \to \A^1_{\k}$ is naturally a \(\k\)-algebra, and we denote it by $\k[U]$. 
2) A map $\varphi = (f_1, \dots, f_m): U \to \A^m_{\k}$ is */regular/* if each coordinate function $f_i$ is in $\k[U]$.
3) If $U' \subset \A^{m}_{\k}$ is another quasi-affine set then a function  $\varphi: U \to V$ is */regular/* if the composite $U \to U' \hookrightarrow  \A^m_{\k}$ is regular as in part (2).
4) Two quasi-affine sets $U \subset \A^{n}_{\k}$, $U' \subset \A^{m}_{\k}$ are /isomorphic/ if there exist regular mappings $\varphi: U \to U'$, $\varphi': U' \to U$  which compose to identity both ways.
#+end_definition



It would be nice if this restricted class of functions behaved well with respect to other choices we've made.  For instance, it comes as a relief that:

#+begin_proposition
Regular functions and mappings are continuous for the Zariski topology.
#+end_proposition

#+begin_proof
In class.  (Then I'll put it here.)
#+end_proof



#+begin_exercise
Let $\varphi: U \to U'$ be a regular mapping between quasi-affine sets.  Prove:
1) If $g \in \k[U']$  then $g \circ \varphi \in \k[U]$.
2) The formula $g \mapsto g \circ \varphi$ defines a \(\k\)-algebra homomorphism $\k[U'] \to \k[U]$.  (This homomorphism is denoted \(\varphi^{\sharp}\).)
3) Without using anything later in the text, calculate $\k[\A^{1}_{\k}]$. 
#+end_exercise

After doing the previous exercise, one sees that the composition of regular mappings is again regular.  



If $U \subset \A^{n}_{\k}$ is a quasi-affine set, then there is a very quick way to produce regular functions on $U$: restrict a polynomial $f(x_1, \dots, x_n)$ to $U$. Therefore, we always have a ring homomorphism $\k[x_1, \dots, x_n] \to \k[U]$.  Secondly, clearly if $f \in \I(U)$, then $f$ restricts to the zero function $0 \in \k[U]$.  Therefore, restriction of polynomials induces a homomorphism \[\k[x_1, \dots, x_n]/\I(U) \to \k[U].\]  One fundamental use of the Nullstellensatz provides great news in the case that $U \subset \A^{n}_{\k}$ is /affine/. 


#+begin_theorem
Let $Z \subset \A^n_{\k}$ be an affine set. Then every regular function on $Z$ is the restriction of a polynomial in $\k[x_1, \dots, x_n]$, and, the restriction homomorphism $\k[x_1, \dots, x_n]/\I(Z) \to \k[Z]$ is an isomorphism. 
#+end_theorem

#+begin_proof
In class first, then I'll put here.
#+end_proof

This is why, when $Z \subset \A^{n}_{\k}$ is affine, the ring of regular functions $\k[Z]$ is called the /coordinate ring/ of $Z$ -- it just turns out to be the algebra of functions obtained by playing around with only the coordinate functions $x_1, \dots, x_n$ restricted to $Z$.

#+begin_exercise
1) Let $Z \subset \A^n_{\k}$ be an algebraic subset, and let $f \in \k[x_0, \dots, x_n]$ be any polynomial.  If $\varphi: Z_f \to \A^1_{\k}$ is a regular function then there exists a polynomial $a$ such that $p = a/f^{m}$ for some $m \geq 0$.
2) Very far-reaching idea: Suppose $W$ is a quasi-affine set and $U \cup V = W$ is an open cover by Zariski open subsets. Prove that $\k[W]$ is in natural bijection with the set of pairs $(f,g)$ where $f \in \k[U]$, $g \in \k[V]$ satisfying $f|_{U \cap V} = g|_{U \cap V}$. (Somewhere, you must use that $U$ and $V$ are open. Provide an example illustrating why.)
3) Compute $\k\left[\A^{2}\setminus \{(0,0)\}\right]$ using the ubiquitous idea in the previous exercise.
4) Compute $\k\left[\A^{2}\setminus \{(0,0),(1,1)\}\right]$.
5) Explain why punching out points in $\A^{2}_{\k}$ is more interesting than punching out points in $\A^{1}_{\k}$ from the point of view of this chapter.
6) Hands-on: Consider the series of examples in the beginning of these notes.  Try to produce a non-constant regular mapping from any one to any other. How successful were you?
7) Hands-on challenge: Assume the characteristic of $\k$ is $2$ or $3$. Prove that there is no non-constant regular mapping from /any/ non-empty open subset of $\A^{1}_{\k}$ to the elliptic curve $\V(y^{2} - x^{3}-1) \subset \A^{2}_{\k}$.  Reflect on this. What happens in char. $2$ and $3$?
8) Similarly, show that there is no non-constant regular mapping from any non-empty open subset of $\A^{1}_{\k}$ to the Fermat curve $\V(x^3+y^3-1)$, assuming the characteristic of $\k$ is not $3$.
#+end_exercise

** The many rings attached to a quasi-affine variety
If $X$ is a quasi-affine set, then for each open set $U \subset X$ we may consider the ring of regular functions $\k[U]$ defined on $U$.  In this way, $X$ defines an entire constellation of rings, namely the \(\k[U]\)'s, and these rings have natural /restriction maps/ among some of them: If $V \subset U$ is an inclusion of open sets, then each regular function on $U$ can be restricted to a regular function on $V$, giving a map $\rho_{U,V}: \k[U] \to \k[V]$.  If $W \subset V \subset U$ is a sequence of inclusions, then the two intermediate restriction maps compose to $\rho_{U,W}$, obviously.

The constellation of rings and restriction maps has a further property: If $$\{U_{\alpha}\}, \alpha \in A$$ is an open cover of an open set $U \subset X$, then the natural product of restriction maps $$\rho: \k[U] \to \prod_{\alpha \in A}\k[U_{\alpha}]$$ is injective, and its image is precisely the set of tuples $(f_{\alpha})_{\alpha \in A}$ satisfying /compatibility/ $$f_{\alpha}|_{U_{\alpha} \cap U_{\beta}} = f_{\beta}|_{U_{\alpha} \cap U_{\beta}}$$ for all $\alpha, \beta \in A$.

The term for this sort of assignment \(\big\{\,\textrm{open sets in }
\,\, X \big\} \to \big\{\,\textrm{Rings} \big\}\) is a /sheaf of
\(\k\)-algebras/.  Typically, this assignment is denoted $\O_{X}$, and
is sometimes called the /sheaf of regular functions on $X$/, or other
times called the /structure sheaf/ of $X$. For each open set $U$,
$\O_{X}(U)$ is simply the ring $\k[U]$.  Modern algebraic geometry
takes the perspective that the true objects of study are certain kinds of
/pairs/ $(X,\O_{X})$ where $X$ is a an abstract topological space and
$\O_{X}$ a sheaf of rings on $X$.  We will not need that perspective right now -- this is just meant to bridge what we do here with what you might see later.

*** The local ring $\O_{X,p}$

Some geometric notions are /local/, in that they describe the geometry "around" a given point,  and some geometric notions are /global/, describing some aspect of the entire geometry of a (quasi-)affine variety $X$.  To codify local information into ring theory (which is our overall project so far) we use the /local ring of $X$ at a point $p$/, denoted $\O_{X,p}$.

$\O_{X,p}$ is the ring of /germs/ of functions regular at $p$. A
/germ/ is an equivalence class of pairs $(f,U)$ where $U$ is an open
neighborhood of $p$, and $f \in \O_{X}(U)$.  Equivalence is defined as
follows: $(f,U)$ is equivalent to $(g,V)$ if there exists an open
neighborhood $W \subset U \cap V$ of $p$ such that $f|_{W} = g|_{W}$.
In other words, we identify locally-defined functions if they agree on
a sufficiently small neighborhood of $p$.

#+begin_exercise
1) Let $p \in \A^{1}_{\k}$ be any point. Prove that $\O_{\A^{1}_{\k},p}$ is the ring of ratios of polynomials $a(t)/b(t)$ such that $b(p) \neq 0$.

2) Prove that $\O_{\A^{1}_{\k},p}$ is not a finitely generated \(\k\)-algebra, and hence is not the coordinate ring of an affine variety.
#+end_exercise

In general, the local ring $\O_{X,p}$ is an especially simple kind of ring -- it is a /local ring/, meaning it has a unique maximal ideal:

#+begin_exercise
1) Prove that any germ $(g,V) \in \O_{X,p}$ satisfying $g(p) \neq 0$ is a unit in $\O_{X,p}$.

2) Prove that the set of germs $(f,U)$ satisfying $f(p) = 0$ is a maximal ideal in $\O_{X,p}$, and that it is the unique maximal ideal in $\O_{X,p}$.
#+end_exercise

The unique maximal ideal of $\O_{X,p}$ is denoted $\fm_{p} \subset \O_{X,p}$.  Many local properties of $X$ near $p$ are captured by ring-theoretic properties involving the structure of the maximal ideal $\fm_p$ in the ring $\O_{X,p}$.  The two most important examples are: the definition of the  /dimension of $X$ at $p$/, and the notion of $X$ being /smooth/ or /singular/ at $p$.  We will investigate these later.  For now, let us collect more examples.

#+begin_exercise
1) Let $X$ denote the cuspidal cubic $\V(y^2-x^3)$.  Provide a
   description of the local ring $\O_{X,(0,0)}$.  Prove that
   $\fm_{(0,0)} \subset \O_{X,(0,0)}$ is not principal.  Compare with
   local rings of points on $\A^{1}_{\k}$.
2) Prove that if $U \subset X$ is any open set containing $p$, then $\O_{X,p}$ is naturally isomorphic to $\O_{U,p}$. And so, when computing local rings, the case of affine $X$ is all that we must consider.
#+end_exercise

When $X$ is an irreducible affine variety, $\O_{X,p}$ has a very concrete general description.  First, we introduce the /function field/ $\k(X)$ to be the fraction field of the integral domain $\k[X]$.  (This is only available because $X$ is irreducible.)  Next, inside $\k(X)$ we consider those elements which can be represented by a fraction $a/b$, $a,b \in \k[X]$ such that $b(p) \neq 0$.  These elements form a sub-ring.

#+begin_exercise
Prove that the sub-ring of $\k(X)$ just described is isomorphic to $\O_{X,p}$. 
#+end_exercise



* Projective space $\P^n_{\k}$ and projective varieties
For a multitude of reasons, it is useful to want to /compactify/ affine space.  Take, for instance, the concept of the /slope of a line/ from high school algebra.  Slopes were numbers, typically labelled $m$.  Except, hold on, what about those pesky "vertical" lines?  It is clear that, geometrically, vertical lines are no more special than any other kind of line.  So we should extend the concept of slope $m$ to include an "infinity" slope $m =\infty$. By adding $\infty$ to the $\A^1$ of slopes, we arrive at the /projective line/ $\P^1$.

Another way that projective space arises is in the following context:  We have a vector space $V$, but we only really care  about elements of $V$ /up to scaling/.  For instance, if we only care about the /location of the roots/ of a quadratic polynomial $ax^2+bx+c$, then for our purposes there is no difference between polynomials $ax^2+bx+c$ and $\lambda a x^2 + \lambda b x + \lambda c =0$, where $\lambda$ a nonzero number.

** Projective varieties
For simplicity, we work throughout over an algebraically closed field \(\k\).

#+begin_definition
1) The \(n\)-dimensional projective space, denoted \(\P^n_{\k}\), is the set of equivalence classes of points of $\left(\A^{n+1}_{\k}\right)^{\times}$ under the action of $\k^{\times}$ by scaling.
2)  A point $p \in  \P^n_{\k}$ is denoted by a tuple $[p_0 : p_1 : \ldots : p_n]$, and two tuples $[p_0 : p_1 : \ldots : p_n]$ and $[q_0 : q_1 : \dots : q_n]$ represent the same point in $\P^n_{\k}$ if and only if there exists $\lambda \in \k^{\times}$ such that $p_i = \lambda q_i$ for all $i = 0,\ldots, n$.
3) The assignment $(p_0, \dots, p_n) \mapsto [p_0 : \dots : p_n]$ defines the */quotient mapping/* \[\q : \left( \A^{n+1}_{\k}\right)^{\times} \to \P^n_{\k}.\]
4) The */Zariski topology on \(\P^n_{\k}\)/* is defined as follows: A subset $U \subset \P^n_{\k}$ is open (resp. closed) if and only if $\q^{-1}(U)$ is Zariski-open (resp. closed) in  \(\left( \A^{n+1}_{\k}\right)^{\times}\).  A closed subset of $\P^{n}_{\k}$ is called a */projective set/*.  An open subset of a projective set is called a */quasi-projective set/*.
5) For each $i=0, \ldots, n$, we define the */\(i\)-th standard affine open chart of $\P^n_{\k}$/* to be the open set \[U_{i} = \big\{ [p_{0}: \ldots : p_n] \mid p_i \neq 0 \big\}.\]
6) The coordinate functions $x_i: \A^{n+1}_{\k} \to \A^{1}_{\k}$ are called */homogeneous coordinates/* on $\P^{n}_{\k}$.
7) If $Z \subset \P^n_{\k}$ is any subset, then $Z_{i} := Z \cap U_{i}$ is the \(i\)-th */affine chart/* of $Z$.
#+end_definition




*** The Zariski topology on projective space

Our first, most important objective is to understand how closed subsets of $\P^{n}_{\k}$ are specified.  The formula is very simple.  First, observe that if $F(x_0, \dots, x_n) \in \k[x_0, \dots, x_n]$ is a /homogeneous/ polynomial, then the vanishing set $$\V(F) := \{[p_0: \dots : p_n] \in \P^{n}_{\k} \mid F(p_0, \dots, p_n) = 0\}$$ is /well-defined/.  (Remember, projective space is a set of equivalence classes, so we have to make sure definitions are actually well-defined.)  Such a $\V(F) \subset \P^{n}_{\k}$ will be called a  /hypersurface/ much like in the affine case.  A general closed subset is simply the common vanishing set of a /system of homogeneous polynomials/, $\V(F_1, \dots, F_m)$ where each $F_i$ is a homogeneous polynomial in $x_0, \dots, x_n$ of some degree $d_i \geq 0$.

The ideal $(F_i , \dots, F_m) \subset \k[x_0, \dots, x_n]$ is a special kind of ideal, called a /graded ideal/.  To explain this concept, recall that an arbitrary polynomial $f \in \k[x_0, \dots, x_n]$ breaks up into a sum of its /graded parts/ $$f = \sum_{i=0}^{\infty} f_{i}$$ where each $f_i$ is homogeneous of degree $i$. (This is a finite sum -- almost all  terms are zero.)

#+begin_definition
1. An ideal $I \subset \k[x_0, \dots, x_n]$ is /homogeneous/ if  $f \in I$ if and only if every graded part of $f$ is in $I$.
2. If $I \subset \k[x_0, \dots, x_n]$ is a homogeneous ideal, we define its /vanishing set/ $\V(I) \subset \P^{n}_{\k}$ to be the common vanishing set of all homogeneous elements of $I$.
#+end_definition

#+begin_exercise
1) Prove that an ideal is homogeneous if and only if it is generated by homogeneous polynomials.
2) Provide an example which shows that not every element of a homogeneous ideal is homogeneous.
3) Prove that the standard affine charts $U_{i} \subset \P^{n}_{\k}$ are open.
4) Warning! Homogeneous coordinates are not actually functions on $\P^{n}_{\k}$: Explain why $x_i$, sending $[p_0 : \dots : p_n]$ to $p_{i} \in \A^{1}_{k}$ is nonsense, i.e. is not actually a function.  (This is different from the affine world.)
#+end_exercise



#+begin_theorem
Every closed subset of  \(\P^{n}_{\k}\) is obtained as the vanishing set of a graded ideal in $\k[X_0, \dots, X_n]$. 
#+end_theorem


#+begin_proof
The fact that such a set is closed is immediate from definitions, so we skip that direction.  Now suppose $Z \subset \P^{n}_{\k}$ is a /non-empty/ closed set, meaning $\q^{-1}(Z) \subset (\A^{n+1}_{\k})^{\times}$ is Zariski-closed.  By the definition of the induced topology, there is a Zariski-closed set $\widehat{Z} \subset \A^{n+1}_{\k}$ such that $\widehat{Z} \cap (\A^{n+1}_{\k})^{\times} = \q^{-1}(Z)$.  Since $Z$ is non-empty, there exists a point $(p_0, \dots, p_{n}) \in \q^{-1}(Z)$, and hence $(\lambda p_0, \dots, \lambda p_{n}) \in \q^{-1}(Z)$ for all $\lambda \in \k^{\times}$. It follows that $\widehat{Z}$ is a /conical subset/ of $\A^{n+1}_{\k}$.  A Zariski-closed subset $C \subset \A^{n+1}_{\k}$ is  /conical/, or a /cone/, if $(p_0 ,\dots, p_n) \in C$ if and only if $(\lambda p_{0}, \dots, \lambda p_{n}) \in C$ for all $\lambda \in \k^{\times}$.

It suffices to show that the ideal of a conical set $C \subset \A^{n+1}_{\k}$ is homogeneous.  Indeed, for sake of contradiction, suppose $f \in \I(C)$ is a polynomial of least degree whose graded parts are /not/ all contained in $\I(C)$. Write $$f = f_0 + \dots + f_{d},$$ the decomposition into graded pieces, where $f_d$ is assumed nonzero. As $C$ is conical, the polynomial $f(\lambda x_0, \dots, \lambda x_n)$ is also in $\I (C)$ for all $\lambda \in \k^{\times}$. This latter polynomial is $$f_0 + \lambda f_{1} + \dots + \lambda^{d} f_{d}.$$ Subtracting this from $\lambda^{d}f$ yields $(\lambda^{d} - 1) f_0 + (\lambda^{d}-\lambda) f_{1} + \dots + (\lambda^{d}-\lambda^{d-1}) f_{d-1} \in \I(C)$. The numbers $\lambda^{d}-\lambda^{i}$ are not all zero for all $\lambda \in \k^{\times}$ because $\k$ is an infinite field. (It is algebraically closed!)  So, this latter polynomial's graded parts are all in $\I(C)$, meaning $f_i$, $i < d$ are all in $\I(C)$.  But then, so is $f_{d}$, contradicting the assumption on $f$.

So, $\I(\widehat{Z})$ is homogeneous, which is what we needed to show.
#+end_proof

#+begin_exercise
1) For each $i=0,\ldots, n$, consider an affine space $\A^{n}_{\k}$ with coordinates $(x_{0/i}, \dots, x_{n/i})$, where the symbol $x_{i/i}$ is omitted. Let $\gamma_i: \A^{n}_{\k} \to U_i$ denote the bijective function that sends $(p_{0/i}, \ldots, \ldots p_{n/i})$ to the point $[p_{0/i}: \ldots: p_{(i-1)/i} : 1 : p_{(i+1)/i} : \ldots : p_{n/i}]$.  Prove that $\gamma_i$ is a /homeomorphism/ of topological spaces, meaning: $Y \subset \A^n_{\k}$ is Zariski-open if and only if $\gamma_i(Y) \subset U_i$ is Zariski-open.
2) One could define another topology on $\P^n_{\k}$ in the following way: A set $Y \subset \P^n_{\k}$ is closed if and only if $Y_{i} := Y \cap U_i$ is closed in $U_i$ for all $i$, where we think of $U_i$ as an affine space under the indentifications $\gamma_i$ in the previous exercise.  Prove that this topology is the same as the Zariski topology defined in the definition above.
#+end_exercise

*** The projective line
The projective line $\P^{1}_{\k}$ is ubiquitous, and understanding its geometry is absolutely essential.  

#+begin_proposition
The closed subsets of  \(\P^{1}_{\k}\) are the finite subsets and \(\P^{1}_{\k}\) itself.
#+end_proposition

#+begin_exercise
Prove the proposition.
#+end_exercise

The projective line $\P^{1}_{\k}$ is the union of its two affine charts $U_{0}$ and $U_{1}$, both identified with the affine line $\A^{1}_{\k}$.   $U_{0}$ is the set of points of the form $[1 : p_{1/0}]$ as $p_{1/0}$ ranges freely in $\A^{1}_{\k}$, and $U_1$ is the set of points of the form $[p_{0/1}:1]$ as $p_{0/1}$ varies freely in $\A^{1}_{\k}$.  $U_0$ and $U_1$ overlap on the points of the form $p = [p_0 : p_1]$ where both $p_0$ and $p_1$ are nonzero elements in $\k$.  Such a point $p$ may be viewed as a point of either chart: in the \(U_0\)-chart it corresponds to the value $p_{1/0} = \frac{p_{1}}{ p_{0}}$ and in the the \(U_1\)-chart it corresponds to the value $p_{0/1} = \frac{p_0}{p_1}$.   Thus, since we are describing the same point of $\P^{1}_{\k}$, we deduce that the affine coordinate $x_{1/0}$ on $U_0$ is related to the affine coordinate $x_{0/1}$ on $U_1$ via the /transition/ or /gluing/ data: $$x_{1/0} = \frac{1}{x_{0/1}}.$$

This transition data only exists and is meaningful on the intersection $U_0 \cap U_1$. Indeed, both $x_{0/1}, x_{1/0}$ must be nonzero to parse it.   When the charts $U_i$ are identified with $\A^{1}_{\k}$, we conclude that /\(\P^{1}_{\k}\) is obtained by gluing together two \(\A^{1}_{\k}\)'s along \(\A^{1}_{\k} \setminus \{0\}\) where the identification is by inversion./ (Recall in complex analysis, where sometimes we make a change of variables $w = 1/z$ when investigating the behavior of a holomorphic function when the argument becomes arbitrarily large. We are actually doing analysis on the /Riemann sphere/ $\P^{1}_{\mathbb{C}}$, where most of the class occurred in one affine chart.)


*** The classical geometry of binary forms (part I)
It is a good practice to start thinking about the notion of "set of all closed subsets of an algebraic-geometric object".  We will do so in case of $\P^{1}_{\k}$. 

Every closed subset of $\P^{1}_{\k}$ is the vanishing set of a homogeneous polynomial $F(x_0,x_1)$ of some degree $d$ in homogeneous coordinates $x_0,x_{1}$, i.e. a degree $d$ /binary form/. The set $S_d$ of all degree $d$ binary forms naturally forms a \(\k\)-vector space of dimension $d+1$: specifically, every form can be written
$$ F = a_0 x_{0}^d + a_1 x_{0}^{d-1}x_{1} + \dots + a_d x_{1}^d $$ where $a_i \in \k$ are arbitrary.  The $0$ form obviously does not define a closed /strict/ subset of $\P^1_{\k}$.  Furthermore, the form $F$ and $\lambda F$ define the same closed subset.  Therefore, as a first pass at geometrizing the "set of all closed subsets of $\P^{1}_{\k}$ we can begin with the /projective space of degree $d$ binary forms/ $$\P S_d.$$  Here, if $V$ is any vector space, we denote its /projectivization/ $V^{\times}/\k^{\times}$ by $\P V$. It is isomorphic to $\P^{n}$ where $\dim V = n+1$.

A point of $\P S_d$ is written $[a_0 : \dots : a_d]$, and /corresponds to/ or /means/ the binary form $\sum_{i}a_{i}x_{0}^{d-i}x_{1}^{i}$, up to scaling.  We will let \(c_i\), $i \in \{0, \dots, d\}$ denote the homogeneous coordinates on $S_d$ sending $(a_0, \dots, a_d)$ to $a_i$.   Notice that $\P S_d$ is identifiable with \(\P^d\), but the current context /gives each point a meaning/.   When $\P^d$ is interpreted as \(\P S_d\) it comes to life with beautiful geometric figures inside it:

#+begin_exercise
1) In the $\P^{2} \simeq \P S_2$ of binary quadratic forms, prove that the locus of forms $F$ which have a double zero on $\P^1_{\k}$ (meaning $\V(F)$ is a single point, as opposed to two distinct points) is a closed subset defined by a famous single homogeneous equation in the coefficient variables $c_0,c_1,c_2$.
2) In the $\P^3 \simeq \P S_3$ of binary cubic forms, prove that the locus of forms $F$ which define fewer than $3$ distinct points in $\P^{1}_{\k}$ is a closed subset defined by a single homogeneous equation in the coefficient variables $c_0,c_1,c_2,c_3$. (This will be challenging and fun if you are very new.)
3) Show that the subset of $\P^{3} \simeq \P S_3$ corresponding to binary cubic forms defining a /single/ point is a closed subset.  Find a system of homogeneous equations defining it.  
#+end_exercise

*** The geometry of the projective plane 
Next, we should explore the geometry of the projective plane $\P^{2}_{\k}$.  It has three standard affine charts $U_0, U_1, U_2$.  The affine chart $U_{0}$ is the set of points of the form $[1:p_{1/0}:p_{2/0}]$. The affine chart $U_{1}$ is the set of points of the form $[p_{0/1}:1:p_{2/1}]$.  A point $[p_0 : p_1: p_2]$ is in $U_0 \cap U_1$ if and only if both $p_0$ and $p_1$ are nonzero.  In this case, when we scale down the respective factors to $1$, we find that $p_{0/1} = p_{0}/p_{1}$ while $p_{1/0} = p_{1}/p_{0}$.  Therefore, on $U_{0} \cap U_{1}$ we have the transition data between affine coordinates: \[x_{1/0} = x_{0/1}^{-1}.\]  Furthermore, for the point $p$ above, we have $p_{2/1} = p_{2}/p_{1}$ and $p_{2/0} = p_{2}/p_{0}$. Thus, on $U_{0} \cap U_{1}$ we obtain the further transition data: \[x_{2/1}x_{1/0} = x_{2/0}.\]

Let us now consider a specific projective subset  $C \subset \P^{2}_{\k}$: the /conic curve/ \[\V(x_{0}x_{2}-x_{1}^{2}).\]   Let us see what the three "affine sides" \[C_{i} := C \cap U_{i}\] of this curve look like.  For $C_0$, we simply set $x_0 = 1$ in the defining equation $x_0 x_2 - x_{1}^{2}$, and interpret the remaining variables as $x_{1/0}$ and $x_{2/0}$.  We thus get \[\V(x_{2/0} - x_{1/0}^{2}) \subset U_{0} \simeq \A^{2}_{\k}.\]  This is a "parabola" in the $(x_{1/0}, x_{2/0})$ coordinates.  The "points at infinity" for $C_0$ can simply be taken to mean the points of $C \setminus C_{0}$.  There is only one such point: To find it, we set $x_0 = 0$ in the original homogeneous equation.  We then obtain a homogeneous form only in the variables $x_1, x_2$, namely $x_{1}^{2} = 0$.  This defines a closed subset of the $\P^{1}_{\k}$ "at infinity" consisting of the points in $\P^{2}_{\k}$ of the form $[0:p_{1}:p_{2}]$.  The equation $x_{1}^{2}=0$ defines the single point $[0:0:1]$ on this $\P^{1}_{\k}$ at infinity.  (Observe that the equation obtained was $x_{1}^{2}=0$, not just $x_{1}=0$. This reflects the fact that the line at infinity (from \(U_0\)'s perspective) meets the conic $C$ /tangentially/ at the point $[0:0:1]$, but we don't know what that means quite yet.)

The chart $C_1$ is given by affine equation $x_{0/1}x_{2/1}-1 = 0$.  This is a "hyperbola".  There are two points "at infinity" for $C_1$, namely $[0:0:1]$ and $[1:0:0]$.  These correspond to the two asymptotes of the hyperbola.   Finally, the chart $C_2$ is again a "parabola".  The lesson here, and the reason I put quotation marks around these words, is that the notion of hyperbola, parabola, and ellipse are illusions in the projective setting.  The conic $C$ /is one cohesive object/, and these distinctions arise when we look at $C$ from different sides.


** Regular functions and regular mappings in the projective setting 
Now that we have defined the more general concept of a projective (or quasi-projective) set $X \subset \P^{n}_{\k}$ we must move toward establishing the mechanisms which relate two of them, much as we did in the chapter on affine varieties.  The situation is a bit more complicated than it was for affine sets, essentially because projective sets have many "sides" to deal with, making their anatomy slightly more complicated.  

First we will define what a regular function on a quasi-projective set $X \subset \P^{n}$ means.  The idea is to inherit the meaning of regular function from quasi-affine subsets of $\A^{n+1}_{\k}$:

#+begin_definition
 Let $X \subset \P^{n}$ be a quasi-projective set. A function $$f:X \to \A^{1}_{\k}$$ is */regular/* if for each point $x \in X$ there exists an open neighborhood $U \subset X$ of $x$ such that the composite $f|_{U} \circ \q : \q^{-1}(U) \to \A^{1}_{\k}$ is a regular function on the quasi-affine set $\q^{-1}(U) \subset \A^{n+1}_{\k}$.
#+end_definition

One important difference between the affine and projective stories is that homogeneous variables $x_0, \dots, x_n$ or homogeneous polynomials thereof are do not produce well-defined functions on projective space.  However, by taking /ratios/ of two homogeneous forms \[\frac{F(x_0, \dots, x_n)}{G(x_0, \dots, x_n)}\] */of the same degree/*, one obtains a function, not defined on all of $\P^{n}_{\k}$ but defined on the open subset \[\P^{n}_{\k} \setminus \V(G).\]  We will call a ratio of homogeneous polynomials of the same degree a */homogeneous ratio/*.

The next exercise provides an alternative definition of regular function.

#+begin_exercise
Let $X \subset \P^{n}_{\k}$ be a quasi-projective set.  Prove that a function $f: X \to \A^{1}_{\k}$ is regular if and only if $f$ is locally expressible as a homogeneous ratio, i.e. for each $x \in X$ there is an open neighborhood $U \subset X$ such that $f|_{U}$ is equal to a homogeneous ratio $F(x_0, \dots, x_n)/G(x_0, \dots, x_n)$ with $G$ nonzero on $U$. 
#+end_exercise


Regular functions can be added and multiplied to obtain another regular function.  Constant functions are regular. Thus, the set of all regular functions on $X$ is a \(\k\)-algebra, denoted \(\k[X]\) as in the affine situation.  However, as we will see, the ring $\k[X]$ usually carries very little information about $X$, and certainly does not recover $X$ in most cases where $X$ is projective.

Regularity, however, is evidently a local condition on $X$. Therefore, we obtain a sheaf of regular functions denoted $\O_X$, whose value $\O_{X}(U)$ on an open subset $U$ is the ring $\k[U]$. 

#+begin_exercise
In this exercise we will establish that $\k[\P^n_{\k}] = \k$, i.e. the only regular functions on projective space are constant. (If you are struggling, just do the case of $\P^{1}_{\k}$.)
1) Prove: If $X \subset \P^n_{\k}$ is any quasi-projective set, then the restriction of a regular function to an open subset $U \subset X$ is again regular.
2) Prove that the regular functions on the standard affine open chart $U_i \subset \P^{n}_{\k}$ are exactly the polynomials in the variables $x_{j/i}$, $j \in \{0 ,\dots, n\} \setminus \{i\}$. 
3) If $f \in \P^{n}_{\k}$ is a regular function, and if $f_i = f|_{U_{i}}$, then clearly $f_{i}|_{U_{i}\cap U_{j}} = f_{j}|_{U_{i} \cap U_{j}}$. Use this, and the transition data between charts to prove the theorem!
4) In fact, prove that $\k[U_i \cup U_j] = \k$, where $U_i$ and $U_j$ are any two standard affine charts on $\P^{n}_{\k}$.  
#+end_exercise

As before, once we have the notion of a single regular function, we automatically obtain the definition of a regular mapping $f: X \to \A^{n}_{\k}$ for any $n$ by requesting that each coordinate function be regular.

#+begin_exercise
A regular mapping $f: X \to \A^{n}_{\k}$ is continuous for the Zariski topologies on domain and codomain.
#+end_exercise

The question of how to define a /regular mapping/  $\varphi: X \to Y$ between two quasi-projective sets $X$ and $Y$ has two types of answers.  The best, most "mature" answer is in terms of sheaves, which will be given later.  The clunkier, but more vivid "first" answer is as follows.  

First, if $Y \subset \P^{n}_{\k}$ we replace the question with the more specific question: What is a regular mapping $\varphi: X \to \P^{n}_{\k}$? Once this is answered, we simply insist that the image of $\varphi$ lie inside $Y$.  The more specific answer is: For each standard affine open $U_{i} \subset \P^{n}_{\k}$, request that $V_{i} := \varphi^{-1}(U_i)$ is open and that the restriction \[\varphi|_{V_{i}} : V_{i} \to U_{i} \simeq \A^{n}_{\k}\] is regular, as already defined before. 

#+begin_exercise
Prove that a regular mapping $\varphi: X \to \P^{n}_{\k}$ is continuous for the Zariski topology, i.e. that the preimage of /any/ open set (not just the $U_{i}$) is open. Using this, prove that the composite of regular mappings $\varphi: X \to Y$ and $\psi: Y \to Z$ is again regular.
#+end_exercise

The modern way to define a regular mapping (both in the affine case and in the projective case) is as follows: A function $\varphi: X \to Y$ is regular if: 1) $\varphi$ is continuous for Zariski topologies, and 2) For any open set $U \subset Y$ and any regular function $g \in \O_{Y}(U)$, the composite function \[\varphi^{\sharp}(g) := g \circ \varphi|_{\varphi^{-1}(U)}: \varphi^{-1}(U) \to \A^{1}_{\k}\] is a regular function on $\varphi^{-1}(U)$.  In the language of sheaves, this second point is summarized as: the "composition with $\varphi$" induces a morphism of sheaves on $X$ \[\varphi^{\sharp}: \varphi^{-1}\O_{Y} \to \O_{X}.\]

*** Regular mappings between projective spaces
Suppose $X \subset \P^{n}_{\k}$ is a quasi-projective set.  It is unclear how one would even specify any non-constant regular mapping $\varphi: X \to \P^{m}_{\k}$ in the first place.  Here, we will provide /one particular recipe/ for specifying /some/ regular maps $\varphi$.  

Suppose $F_{0}, \dots, F_{m}$ are degree $d$ forms on $\P^{n}_{\k}$.  These forms define a /base locus/ \[B \subset \P^{n}_{\k}\] defined by $B = \V(F_0, \dots, F_m)$, i.e. $B$ is the common vanishing set of all $F_i$. The assignment \[p = [p_0 : \dots :p_{n}] \mapsto [F_{0}(p_0, \dots, p_{n}): \dots : F_{m}(p_0, \dots, p_{n})] \in \P^{m}_{\k}\] is */well-defined/* on $U = \P^{n}_{\k} \setminus B$: this is because each $F_i$ is homogeneous of the /same/ degree $d$, and the output is never $[0: \dots : 0]$ for points in $U$.

#+begin_exercise
Maintaining the context of the previous paragraph, prove that the assignment $[F_0 : \dots :F_m]$ defines a regular mapping $U \to \P^{m}_{\k}$. 
#+end_exercise

Therefore, this idea of placing homogeneous forms of the same degree between colons ":" gives a recipe for many many types of regular mappings: If $X \subset \P^{n}_{\k}$ is a quasi-projective set, and if $[F_0 : \dots : F_m]$ is a tuple of degree $d$ forms /whose base locus $B$ is disjoint from $X$/, then the recipe \[ [p_0 : \dots : p_n]  \mapsto [F_0 (p) : \dots : F_{m} (p)] \in \P^{m}_{\k}\] defines a regular mapping $\varphi: X \to \P^{m}_{\k}$. Whether this recipe provides /all/ regular maps from $X$ to projective space is a delicate question, which will require us to understand the important concept of a /line bundle/ on $X$. 

When $X = \P^{n}_{\k}$, however, the answer is affirmative: 

#+begin_theorem
Every regular mapping $\varphi: \P^{n}_{\k} \to \P^{m}_{\k}$ is of the form $[F_0 : \dots : F_m]$ where each form $F_i(x_0 , \dots, x_n)$ has the same degree, and where the base locus $\V(F_0 , \dots, F_m)$ is empty.
#+end_theorem 

#+begin_proof
In class first, then I'll put it here. 
#+end_proof

As before, we use the term /projective variety/ to mean an equivalence class of projective set under regular isomorphism. In this way, we lose our dependence on an ambient projective space. Before continuing, we need to see examples of projective varieties and regular

** First examples of projective varieties and morphisms

*** Linear subspaces
*/Linear spaces/* are perhaps the simplest class of examples of projective varieties, and are used all the time in classical projective algebraic geometry. 

#+begin_definition
A */linear space/*  $$\Lambda \subset \P^{n}_{\k}$$ is a projective set of the form $\V(L_1 , \dots, L_m)$, where each $L_i(x_0 ,\dots, x_n) \in \k[x_0, \dots, x_n]$ is a homogeneous linear form. A */hyperplane/* $H \subset \P^{n}_{\k}$ is a linear space defined by the vanishing of a single, non-zero, linear form.
#+end_definition 

The homogeneous ideal $I_{\Lambda} \subset \k[x_0 , \dots, x_n]$ of a linear space is generated by linear forms -- in fact, this can be taken as a definition.

Each linear space $\Lambda \subset \P^{n}_{\k}$ has a /codimension/, a non-negative integer $r$ which measures how "small" $\Lambda$ is compared to $\P^{n}_{\k}$.  One way to define $r$ is to say it is the dimension of the \(\k\)-vector space $I_{\Lambda}(1)$, which by definition is the vector space of degree $1$ homogeneous forms vanishing on all points of $\Lambda$. Another way to define $r$ is: $r$ is the largest integer such that there is a sequence of nested linear spaces $$\Lambda = \Lambda_{0} \subset \Lambda_{1} \subset \dots \subset \Lambda_{r} = \P^{n}_{\k}$$ where each inclusion is /strict/. 

#+begin_exercise
 Prove that these two definitions of codimension $r$ agree.
#+end_exercise  

While the codimension $r$ measures how far a linear space is from being the entire projective space $\P^{n}_{\k}$, its /dimension/, defined to be $d = n-r$, measures how big the linear space is. A \(0\)-dimensional linear space is simply a point. A \(1\)-dimensional linear space is called a /line/. A \(2\)-dimensional linear space is called a plane. In general, a \(k\)-dimensional linear space is often called a /\(k\)-plane/.   

When answering questions about linear spaces, it is often fruitful to pose the relevant problem on the affine space $\A^{n+1}_{\k}$ underlying the construction of $\P^{n}_{\k}$, where the question becomes a question in linear algebra.  

#+begin_exercise
1) Prove that the intersection of linear spaces is again a linear space (if non-empty). 
2) Prove that any two lines in $\P^{2}_{\k}$ intersect. 
3) Find two lines in $\P^{3}_{\k}$ which do not intersect. 
4) Prove that for any two \(k\)-planes $\Lambda, \Lambda'$ in $\P^{n}_{\k}$, there exists an automorphism $\varphi: \P^{n}_{\k} \to \P^{n}_{\k}$ such that $\varphi(\Lambda) = \Lambda'$. 
5) Prove that a \(m\)-plane and a \(k\)-plane in $\P^{n}_{\k}$ intersect in a linear space of dimension at least $k+m - n$. 
6) Prove that two distinct points $p, q \in \P^{n}_{\k}$ lie on a unique line. 
7) Prove that three distinct points $p, q, r \in \P^{n}_{\k}$, $n \geq 2$, must lie on a \(2\)-plane, but not necessarily a unique \(2\)-plane. 
8) Prove that $m+1$ points in $\P^{n}_{\k}$, $n \geq m$, are contained in a linear space of dimension $m$. 
9) Prove that a \(k\)-plane is isomorphic to $\P^{k}_{\k}$. 
10) Prove that for any finite set $Z \subset \P^{n}_{\k}$, $n \geq 0$, that there exists a hyperplane $H \subset \P^{n}_{\k}$ such that $H \cap Z$ is empty.
#+end_exercise

*** The Twisted Cubic

The */twisted cubic/* $T \subset \P^{3}_{\k}$ is the projective variety $\V( XZ-Y^2, XW-YZ, YW-Z^2)$, where we use $[X:Y:Z:W]$ to denote homogeneous coordinates on $\P^{3}_{\k}$. As an abstract projective variety, $T$ is not interesting -- it is isomorphic to $\P^{1}$.  Let us see this.

It is easier to produce a regular mapping $\alpha: \P^{1}_{\k} \to T$: send a point $[s:t] \in \P^{1}_{\k}$ to the point $[s^3:s^2t:st^2:t^3] \in \P^{3}_{\k}$. 

#+begin_exercise
Verify that the mapping defined  above indeed produces a mapping *whose outputs are contained in* $T$. 
#+end_exercise

To go backwards, we consider the regular mapping $$\pi: \P^{3}_{\k} \setminus L \to \P^{1}_{\k}$$ given by $[X : Y: Z:W] \mapsto [X:Y]$. Here $L$ is the line $\V(X,Y) \subset \P^{3}_{\k}$.  Observe that $T \cap L = \{ [0:0:0:1] \}$, and therefore the restriction of $\pi$ to $T$ only seems to give a regular mapping away from the point $[0:0:0:1] \in T$. However, and this is typical of the complication in defining regular maps on projective objects, /$\pi$ can be extended to give regular mapping on all of $T$/. Indeed, consider the mapping $$\pi' : \P^{3}_{\k} \setminus M \to \P^{1}_{\k}$$ defined by $[X:Y:Z:W] \mapsto [Z:W]$.   Whereas on the open set $U = \P^{3}_{\k} \setminus \{L \cup M\}$ $\pi$ and $\pi'$ certainly do not agree, it */is/* the case that on points of $T \cap U$ $\pi$ and $\pi'$ have the same outputs, because of the relation $XW - YZ = 0$.   

To recap, we have two regular maps $\pi: T \setminus \{[0:0:0:1]\} \to \P^{1}_{\k}$ and $\pi': T \setminus \{ [1:0:0:0] \} \to \P^{1}_{\k}$ which agree on the common open subset of $T$ where both are defined. Since the condition of being regular is open, it follows that the piece-wise defined map $\beta: T \to \P^{1}_{\k}$ which is $\pi$ on $T \setminus \{[0:0:0:1]\}$ and $\pi'$ on $T \setminus \{[1:0:0:0]\}$ is regular.   


#+begin_exercise
Prove that $\alpha$ and $\beta$ from the previous discussion are inverse regular mappings, and therefore that $T$ is isomorphic to $\P^{1}_{\k}$. 
#+end_exercise


